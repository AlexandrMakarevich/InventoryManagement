<!DOCTYPE html>
<html lang="en"  xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="../static/css/report.css" th:href="@{/css/report.css}" rel="stylesheet"/>
    <title>Report page</title>
</head>

<body>

    <div class="title">
        <h3>Check inventory state: </h3>
    </div>

    <form th:action="@{/report}"  method="post">
    <div>
        <label for="date" class="date_label">Choose date:</label>
        <input type="datetime-local" id="date" value="" name="reportDate"/>
        <input class="show_button" type="button"
               onclick="window.location.assign('/report?reportDate='+ document.getElementById('date').value);" value="Show report"/>
        <input class="save_button" type="button"
               onclick="window.location.assign('/save_report?reportDate='+ document.getElementById('date').value);" value="Save report"/>
    </div>
    </form>

    <div>
        <table class="table">
            <tr class="table_title">
                <th>PRODUCT_ID</th>
                <th>PRODUCT_NAME</th>
                <th>PRODUCT_PRICE</th>
                <th>QUANTITY</th>
                <th>DATE</th>
            </tr>
            <tr th:each="inventoryState : ${inventoryStates}" class="table_body">
                <td th:text="${inventoryState.inventoryStatePK.product.id}"/>
                <td th:text="${inventoryState.inventoryStatePK.product.productName}"/>
                <td th:text="${inventoryState.inventoryStatePK.product.price}"/>
                <td th:text="${inventoryState.quantity}"/>
                <td th:text="${inventoryState.inventoryStatePK.stateDate}"/>
            </tr>
        </table>
        <div>
            <h4 th:text="'Total Price :' + ${totalPrice}" class="table_body_total"/>
        </div>
    </div>

    <div class="return_button">
        <a href="/welcome_page">Back on main page</a>
    </div>

</body>

</html>